(()=>{"use strict";let e=new XMLHttpRequest;e.open("get","./assets/product-list.json",!0),e.send(),e.onload=function(){if(4==this.readyState&&200==this.status){let e=JSON.parse(this.responseText),t="";for(let n of e)t+=`\n\n            <div class="product" ${!0===n.isFulfilled?"data-filter='Fulfilled' ":"data-filter='onSale' "}>\n                <div class="top_part">\n                    <div class="img_box">\n                        <a href="${n.absoluteUrl}">\n                            <img src="${n.mainImage}" alt="${n.title}">\n                        </a>\n                    </div>\n                    <span class="promotion_percentage\n                        ${"silver"===n.promotionPercentageColor?"silver":""}\n                        ${"gold"===n.promotionPercentageColor?"gold":""}\n                        ${"bronze"===n.promotionPercentageColor?"bronze":""}\n                    ">\n                        ${n.promotionPercentage} %\n                    </span>\n\n                    <ul class="icons">\n                        <li>\n                            <a href="javascript:void(0)">\n                                ${!0===n.isFavorite?'<img src="./assets/images/icon-fav-2.png" alt=""/>':'<img src="./assets/images/icon-fav-1.png" alt=""/>'}\n                                \n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:void(0)">\n                                <img src="./assets/images/icon-share.png" alt="">\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:void(0)">\n                                <img src="./assets/images/jp-icon.png" alt="">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <div class="middle_part">\n                    <h5 class="product_title">\n                        <a href="${n.absoluteUrl}" title="${n.title}" alt="${n.title}">${n.title}</a>\n                    </h5>\n                    <div class="price_rate">\n                        <div class="price">\n                            <h5 class="main_price">${n.sellPrice}</h5>\n                            <span class="save_price">(Save ${n.priceSaved})</span>\n                        </div>\n                        <div class="rate">\n                            <span class="rate_score">\n                                <img src="./assets/images/icon-rate-star.png" alt="">\n                                <span class="rate_score_num">${n.rate}</span>\n                            </span>\n                            <span class="rate_total">(${n.rateCount})</span>\n                        </div>\n                    </div>\n                </div>\n                ${!0===n.enableAddToCart?'<a class="add_to_cart" href="javascript:void(0)">Add To Cart</a>':'<a class="add_to_cart" href="javascript:void(0)" disabled>Not Available</a>'}\n            </div>\n            \n            `;document.getElementById("products").innerHTML=t}};const t=document.getElementById("btn_selected_sort"),n=document.getElementById("sort_by_dropdown");t.addEventListener("click",(function(e){n.classList.toggle("clicked")}));const s=document.getElementById("filter");document.getElementById("btn_aside_trigger").addEventListener("click",(function(e){s.classList.toggle("is_visible")}));document.querySelectorAll(".fulfilled_filter").forEach((e=>{e.addEventListener("change",(function(){let t=e.getAttribute("id"),n=document.querySelectorAll(`.products .product:not([data-filter='${t}'])`),s=document.querySelectorAll(`.products [data-filter='${t}']`);n.forEach((e=>{e.classList.add("hide"),e.classList.remove("show")})),s.forEach((e=>{e.classList.remove("hide"),e.classList.add("show")}))}))}));const a=document.getElementById("search"),l=document.querySelectorAll(".product"),i=document.querySelector(".not");let o;function r(){console.log(a.value);for(let e=0;e<l.length;e++)l[e].innerText.toLowerCase().includes(a.value.toLowerCase())?l[e].classList.remove("hidden"):l[e].classList.add("hidden");let e=document.querySelectorAll(".products .hidden");console.log(e.length),console.log(l.length),i.style.display=e.length==l.length?"flex":"none"}a.addEventListener("keyup",(()=>{clearTimeout(o),o=setTimeout(r,500)}))})();